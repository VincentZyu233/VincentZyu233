(tip box)
æ–‡æ¡£åœ°å€ï¼šhttps://nonebot.dev/docs/quick-start

ä»“åº“åœ°å€ï¼šhttps://github.com/nonebot/nonebot2
(tip box ç»“æŸ)

(warning box å¼€å§‹)
æœ¬æ–‡æ¡£æ’°å†™äº2025-1207
è¯·æ³¨æ„ï¼šæ–‡æ¡£å¯èƒ½ä¼šè¿‡æ—¶ï¼Œè¯·è®°å¾—éšæ—¶ æŸ¥çœ‹æœ€æ–°ä»“åº“ï¼Œæœ€æ–°æ–‡æ¡£ã€‚
è¯·å–„ç”¨ æœç´¢å¼•æ“ï¼Œå–„ç”¨å¤§æ¨¡å‹ã€‚
ç”¨googleï¼Œä¸è¦ç™¾åº¦ã€‚
ç”¨stackoverflow ä¸è¦csdn
ç”¨wikiç™¾ç§‘ï¼Œä¸è¦ç™¾åº¦ç™¾ç§‘ã€‚

chatgptï¼Œgemini ç½‘é¡µç‰ˆ éƒ½æ˜¯å…è´¹ä½¿ç”¨çš„ã€‚è¿™ä¸¤ä¸ªéƒ½æ˜¯éå¸¸ä¼˜ç§€çš„å¤§æ¨¡å‹
(warning box ç»“æŸ)

(details box é»˜è®¤æŠ˜å )
æˆ‘çš„ç³»ç»Ÿé…ç½®å‚è€ƒï¼š
```shell
root@S43LYjdh3w4zO:~# neofetch
       _,met$$$$$gg.          root@S43LYjdh3w4zO
    ,g$$$$$$$$$$$$$$$P.       ------------------
  ,g$$P"     """Y$$.".        OS: Debian GNU/Linux 12 (bookworm) x86_64
 ,$$P'              `$$$.     Host: KVM RHEL 7.6.0 PC (i440FX + PIIX, 1996)
',$$P       ,ggs.     `$$b:   Kernel: 6.1.0-10-amd64
`d$$'     ,$P"'   .    $$$    Uptime: 4 mins
 $$P      d$'     ,    $$P    Packages: 501 (dpkg)
 $$:      $$.   -    ,d$$'    Shell: bash 5.2.15
 $$;      Y$b._   _,d$P'      Resolution: 1024x768
 Y$$.    `.`"Y$$$$P"'         Terminal: /dev/pts/0
 `$$b      "-.__              CPU: Intel Xeon E5-2686 v4 (1) @ 2.294GHz
  `Y$$                        GPU: 00:02.0 Cirrus Logic GD 5446
   `Y$$.                      Memory: 103MiB / 1919MiB
     `$$b.
       `Y$$b.
          `"Y$b._
              `"""
```
(details box ç»“æŸã€‚é»˜è®¤æŠ˜å )



éƒ¨åˆ†æŒ‡ä»¤éœ€è¦sudoæƒé™ï¼Œå¦‚æœæœ‰æç¤ºpermission deniedç­‰ä¿¡æ¯ï¼Œå¯ä»¥åˆ‡æ¢root æˆ–è€…ç”¨sudo

```shell
# å…ˆæ¢æºï¼Œä¿®æ”¹/etc/apt/sources.listæ–‡ä»¶
# å¯ä»¥å‚è€ƒï¼š G:\GGames\Minecraft\shuyeyun\qq-bot\AAA_from_git_AAA\VincentZyu233\docs\notes\switch-source\debian.md
#ï¼ˆæ–‡æ¡£ç½‘é¡µé‡Œé¢æ˜¯æ”¾è¶…é“¾æ¥ï¼‰

apt update
# (å¯é€‰)å¯ä»¥å…ˆå®‰è£…ä¸€äº›åŸºæœ¬çš„å¸¸ç”¨çš„è½¯ä»¶åŒ…æ
apt install tree htop btop nload neofetch curl wget git proxychains4 proxychains tmux screen net-tools
# åœ¨ä¸€äº›æ›´æ–°çš„å‘è¡Œç‰ˆé‡Œé¢ï¼Œneofetchç”¨ä¸äº†æï¼Œå¯ä»¥æ¢æˆfastfetch
```

```shell
# ä½ å¯ä»¥ä»pypiå®‰è£…pipx
# https://nonebot.dev/docs/quick-start
python -m pip install --user pipx
python -m pipx ensurepath

# ä½ ä¹Ÿå¯ä»¥ç”¨ç³»ç»Ÿè½¯ä»¶åŒ…å®‰è£…pipx
apt install pipx
# (debian/ubuntuç”¨aptï¼Œ redhat/fedoraç”¨dnfï¼Œ archç”¨pacmanï¼Œ openSUSEç”¨zypperï¼Œ alpine/termux é‡Œé¢å«åšapk)
# è¯·æ ¹æ®å®é™…æƒ…å†µ æ›¿æ¢æˆä½ osçš„åŒ…ç®¡ç†å™¨

# çœ‹çœ‹æ˜¯ä¸æ˜¯è£…å¥½äº†
pipx
pipx --version
which pipx
```

ï¼ˆdetail box å¼€å§‹ï¼‰
å¦‚æœpipxæˆåŠŸå®‰è£…ï¼Œé‚£ä¹ˆè¾“å‡ºæ˜¯è¿™æ ·çš„æï¼š
root@S43LYjdh3w4zO:/data# pipx
usage: pipx [-h] [--version] {install,inject,upgrade,upgrade-all,uninstall,uninstall-all,reinstall,reinstall-all,list,run,runpip,ensurepath,environment,completions} ...

Install and execute apps from Python packages.

Binaries can either be installed globally into isolated Virtual Environments
or run directly in a temporary Virtual Environment.

Virtual Environment location is /root/.local/pipx/venvs.
Symlinks to apps are placed in /root/.local/bin.

optional environment variables:
  PIPX_HOME             Overrides default pipx location. Virtual Environments will be installed to $PIPX_HOME/venvs.
  PIPX_BIN_DIR          Overrides location of app installations. Apps are symlinked or copied here.
  PIPX_DEFAULT_PYTHON   Overrides default python used for commands.
  USE_EMOJI             Overrides emoji behavior. Default value varies based on platform.

options:
  -h, --help            show this help message and exit
  --version             Print version and exit

subcommands:
  Get help for commands with pipx COMMAND --help

  {install,inject,upgrade,upgrade-all,uninstall,uninstall-all,reinstall,reinstall-all,list,run,runpip,ensurepath,environment,completions}
    install             Install a package
    inject              Install packages into an existing Virtual Environment
    upgrade             Upgrade a package
    upgrade-all         Upgrade all packages. Runs `pip install -U <pkgname>` for each package.
    uninstall           Uninstall a package
    uninstall-all       Uninstall all packages
    reinstall           Reinstall a package
    reinstall-all       Reinstall all packages
    list                List installed packages
    run                 Download the latest version of a package to a temporary virtual environment, then run an app from it. Also compatible with local `__pypackages__` directory
                        (experimental).
    runpip              Run pip in an existing pipx-managed Virtual Environment
    ensurepath          Ensure directories necessary for pipx operation are in your PATH environment variable.
    environment         Print a list of variables used in pipx.constants.
    completions         Print instructions on enabling shell completions for pipx
root@S43LYjdh3w4zO:/data# pipx --version
1.1.0
root@S43LYjdh3w4zO:/data# which pipx
/usr/bin/pipx
root@S43LYjdh3w4zO:/data#

ï¼ˆdetail box ç»“æŸï¼‰

```shell
# ç‰¹æ®Šç½‘ç»œç¯å¢ƒä¸‹ï¼Œå»ºè®®å…ˆæ›´æ¢pipæºï¼š
ï¼ˆå¢åŠ è¶…é“¾æ¥ è·³è½¬G:\GGames\Minecraft\shuyeyun\qq-bot\AAA_from_git_AAA\VincentZyu233\docs\notes\switch-source\pip.mdï¼‰
# ç„¶åå®‰è£…nonebotçš„cliå·¥å…·
pipx install nb-cli
```

ï¼ˆdetail box é»˜è®¤æŠ˜å  å¼€å§‹ï¼‰
å®‰è£…å®Œæ•´ä»¥åæ˜¯è¿™æ ·çš„æ
```shell
root@S43LYjdh3w4zO:/data# pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
Writing to /root/.config/pip/pip.conf
root@S43LYjdh3w4zO:/data# pipx install nb-cli
  installed package nb-cli 1.5.0, installed using Python 3.11.2
  These apps are now globally available
    - nb
done! âœ¨ ğŸŒŸ âœ¨
root@S43LYjdh3w4zO:/data# nb
d8b   db  .d88b.  d8b   db d88888b d8888b.  .d88b.  d888888b
888o  88 .8P  Y8. 888o  88 88'     88  `8D .8P  Y8. `~~88~~'
88V8o 88 88    88 88V8o 88 88ooooo 88oooY' 88    88    88
88 V8o88 88    88 88 V8o88 88~~~~~ 88~~~b. 88    88    88
88  V888 `8b  d8' 88  V888 88.     88   8D `8b  d8'    88
VP   V8P  `Y88P'  VP   V8P Y88888P Y8888P'  `Y88P'     YP


Welcome to NoneBot CLI!
[?] What do you want to do? (Use â†‘ and â†“ to choose, Enter to submit)
[?] Are you sure to exit NB CLI? Y
root@S43LYjdh3w4zO:/data# which nb
/root/.local/bin/nb
root@S43LYjdh3w4zO:/data#
```

ï¼ˆdetail box ç»“æŸï¼‰

ç„¶åæ‰¾ä¸ªåœ°æ–¹åˆ›å»ºä¸ªæ–‡ä»¶å¤¹ æ”¾ä½ çš„nonebotå®ä¾‹
```shell
# æ¯”å¦‚ï¼š
mkdir -p /data/nonebot
cd /data/nonebot
# ä½¿ç”¨nb-cliåˆ›å»ºï¼Œè¿›å…¥äº¤äº’å¼cli
nb create
# æˆ‘çš„æ­¥éª¤ï¼ˆä»…ä¾›å‚è€ƒï¼‰ï¼š 
# templateé€‰simple â†’ 
# é¡¹ç›®åç§°éšä¾¿è¾“ï¼Œæ¯”å¦‚ nonebot-test
# adaptersé€‰ç”¨ä½ éœ€è¦çš„ï¼Œæ¯”å¦‚onebot v11 â†’
# strategyé€‰æ‹©User globalï¼ˆisolate by project name, ...ï¼‰
# where to store the pluginé€‰æ‹© src folder
# dev toolsé»˜è®¤ä¿æŒä¸åŠ¨
# å®‰è£…ä¾èµ–ï¼Œåˆ›å»ºvenvï¼Œç›´æ¥é»˜è®¤é€‰é¡¹ï¼Œenteré€‰æ‹©yes

# ç„¶åè¿›å…¥nonebotç›®å½•
# Run the following command to start your bot:
  cd nonebot-test
  nb run --reload

```

ï¼ˆinfo boxï¼‰
åˆ›å»ºå®Œçš„ä¸€ä¸ªæ–°çš„nonebotç›®å½•ç»“æ„é•¿è¿™æ ·ï¼šï¼ˆçœ¼ç†Ÿä¸€ä¸‹è‚¯å®šæ²¡åå¤„æï¼‰
```shell
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test# tree -L 3 -a
.
â”œâ”€â”€ .env
â”œâ”€â”€ .env.dev
â”œâ”€â”€ .env.prod
â”œâ”€â”€ .gitignore
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ README.md
â”œâ”€â”€ src
â”‚Â Â  â””â”€â”€ plugins
â”œâ”€â”€ .venv
â”‚Â Â  â”œâ”€â”€ bin
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ activate
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ activate.csh
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ activate.fish
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ activate.nu
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ activate.ps1
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ activate_this.py
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ dotenv
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ fastapi
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ httpx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ pip
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ pip3
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ pip-3.11
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ pip3.11
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ python -> /usr/bin/python3
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ python3 -> python
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ python3.11 -> python
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ uvicorn
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ watchfiles
â”‚Â Â  â”‚Â Â  â””â”€â”€ websockets
â”‚Â Â  â”œâ”€â”€ CACHEDIR.TAG
â”‚Â Â  â”œâ”€â”€ .gitignore
â”‚Â Â  â”œâ”€â”€ lib
â”‚Â Â  â”‚Â Â  â””â”€â”€ python3.11
â”‚Â Â  â””â”€â”€ pyvenv.cfg
â””â”€â”€ .vscode
    â””â”€â”€ extensions.json

8 directories, 29 files
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test#
```
ï¼ˆinfo box ç»“æŸï¼‰


å¯¹æ¥napcatå¯ä»¥å‚è€ƒæ–‡æ¡£ï¼š
https://napneko.github.io/use/integration#nonebot

æŒ‰ç…§æ–‡æ¡£ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€å¥½åšï¼š
æ‰‹åŠ¨åœ¨.envé…ç½®æ–‡ä»¶ä¸­ï¼Œå¢åŠ  PORTï¼ŒHOST, ONEBOT_ACCESS_TOKEN,
è‡ªå·±æ‰‹å†™ä¸€éï¼ŒæŠŠé»˜è®¤çš„ç«¯å£ç­‰é…ç½®æ”¹æ‰ï¼Œè¿™æ ·ä¸€ä¼šå„¿é…ç½®napcatçš„æ—¶å€™ æ›´æ¸…æ¥šè‡ªå·±éœ€è¦å¡«ä»€ä¹ˆ

(detail box å¼€å§‹ï¼Œé»˜è®¤æŠ˜å )

æˆ‘çš„ç¯å¢ƒæ˜¯è¿™æ ·çš„ï¼š

```shell
root@S43LYjdh3w4zO:/data/nonebot# ls
nonebot-test
root@S43LYjdh3w4zO:/data/nonebot# cd nonebot-test/
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test# ls
pyproject.toml  README.md  src
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test# ls -la
total 20
drwxr-xr-x 5 root root  147 Dec  9 04:38 .
drwxr-xr-x 3 root root   26 Dec  8 00:29 ..
-rw-r--r-- 1 root root  499 Dec  9 04:38 .env
-rw-r--r-- 1 root root   16 Dec  8 00:29 .env.dev
-rw-r--r-- 1 root root    0 Dec  8 00:29 .env.prod
-rw-r--r-- 1 root root 2087 Dec  8 00:29 .gitignore
-rw-r--r-- 1 root root 3140 Dec  9 04:32 pyproject.toml
-rw-r--r-- 1 root root  268 Dec  8 00:29 README.md
drwxr-xr-x 3 root root   21 Dec  8 00:29 src
drwxr-xr-x 5 root root   99 Dec  8 00:39 .venv
drwxr-xr-x 2 root root   29 Dec  8 00:29 .vscode
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test# nano .env
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test# cat .env
ENVIRONMENT=dev
DRIVER=~fastapi+~httpx+~websockets
LOCALSTORE_CACHE_DIR=/root/.cache/nonebot2-nonebot-test
LOCALSTORE_DATA_DIR=/root/.local/share/nonebot2-nonebot-test
LOCALSTORE_CONFIG_DIR=/root/.config/nonebot2-nonebot-test

PORT=58888
HOST=0.0.0.0
ONEBOT_ACCESS_TOKEN=test

COMMAND_START=["/", ""]
COMMAND_SEP=[".", " "]

htmlrender_browser_executable_path = "/data/chromium/chromium-latest-linux/latest/chrome"

PS_BG_PROVIDER=local
PS_BG_LOCAL_PATH=/root/hkmc.jpg
PROXY="http://127.0.0.1:7890"
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test# ip a
......
2: ens17: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether c8:25:b5:00:00:23 brd ff:ff:ff:ff:ff:ff
    altname enp0s17
    inet 172.16.0.34/12 brd 172.31.255.255 scope global ens17
       valid_lft forever preferred_lft forever
    inet6 fe80::ca25:b5ff:fe00:23/64 scope link
       valid_lft forever preferred_lft forever
3: docker0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc noqueue state UP group default
    link/ether aa:42:f1:bc:ca:3e brd ff:ff:ff:ff:ff:ff
    inet 192.168.0.1/20 brd 192.168.15.255 scope global docker0
       valid_lft forever preferred_lft forever
    inet6 fe80::a842:f1ff:febc:ca3e/64 scope link
       valid_lft forever preferred_lft forever
.......
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test#


```

æ‰€ä»¥æˆ‘å¯¹æ¥napcatçš„æ—¶å€™ å¯ä»¥è¿™ä¹ˆå¡«å†™ï¼š
wså®¢æˆ·ç«¯å¡«å†™çš„urlï¼šws://172.16.0.34:58888/onebot/v11/ws
tokenå¡«å†™ï¼štest
å¿ƒè·³é—´éš”é»˜è®¤çš„30000msä¸è¦åŠ¨
é‡è¿é—´éš”æ”¹æˆ1111ms

(detail box ç»“æŸ)


ç„¶åå°±æ˜¯å®‰è£…æ’ä»¶äº†ï¼Œä½ å¯ä»¥æµè§ˆå™¨è®¿é—®ï¼šhttps://nonebot.dev/store/plugins å»æ’ä»¶å¸‚åœºæ¢ç´¢æ’ä»¶ï¼Œ
ä½ ä¹Ÿå¯ä»¥å»googleæœç´¢ nonebot pluginï¼Œå¯»æ‰¾æ’ä»¶ä»“åº“

ä½ ä¹Ÿå¯ä»¥å‚ç…§æ–‡æ¡£ï¼Œè‡ªå·±å°è¯•ä¸Šæ‰‹ç¼–å†™ä¸€ä¸ªæ’ä»¶ï¼šhttps://nonebot.dev/docs/tutorial/create-plugin

æ¯”å¦‚æˆ‘ç°åœ¨æƒ³è¦å®‰è£…ä¸€ä¸ª å›¾ç‰‡æ¸²æŸ“æœºå™¨çŠ¶æ€çš„æ’ä»¶ï¼š
https://github.com/lgc-NB2Dev/nonebot-plugin-picstatus

å¯ä»¥ç›´æ¥åœ¨æ’ä»¶çš„æ ¹ç›®å½• ä½¿ç”¨nb cliå®‰è£…
```shell
cd /data/nonebot/nonebot-test
ls
pwd
tree -L 1
# ç¡®è®¤å¤„äºæ’ä»¶æ ¹ç›®å½•
nb plugin install nonebot-plugin-picstatus
# ç„¶åå¯åŠ¨
```

(detail box é»˜è®¤æŠ˜å æ)

æ’ä»¶æ ¹ç›®å½•é•¿è¿™æ ·

```shell
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test# ls
pyproject.toml  README.md  src
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test# pwd
/data/nonebot/nonebot-test
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test# tree -L 2
.
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ README.md
â””â”€â”€ src
    â””â”€â”€ plugins

3 directories, 2 files
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test#
```

ï¼ˆdetail box ç»“æŸï¼‰

(detail box é»˜è®¤æŠ˜å æ)
å®‰è£…å®Œä»¥åå°è¯•å¯åŠ¨ï¼Œå¯èƒ½ä¼šå‡ºç°æŠ¥é”™ï¼š
```log
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test# nb run
Using python: /data/nonebot/nonebot-test/.venv/bin/python
12-08 00:39:47 [SUCCESS] nonebot | NoneBot is initializing...
12-08 00:39:47 [INFO] nonebot | Current Env: dev
.....

12-08 00:39:52 [INFO] nonebot_plugin_htmlrender | Checking chromium installation...
12-08 00:39:52 [DEBUG] nonebot_plugin_htmlrender | Starting playwright install process...
12-08 00:39:52 [WARNING] nonebot_plugin_htmlrender | Installation failed, retrying with official mirror...
12-08 00:39:52 [DEBUG] nonebot_plugin_htmlrender | Starting playwright install process...
12-08 00:39:52 [ERROR] nonebot_plugin_htmlrender | Installation failed with: An error occurred during installation: [Errno 2] No such file or directory
12-08 00:39:52 [INFO] nonebot_plugin_htmlrender | Checking Playwright environment...
12-08 00:39:53 [ERROR] uvicorn | Traceback (most recent call last):
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/nonebot_plugin_htmlrender/browser.py", line 204, in check_playwright_env
    await getattr(p, plugin_config.htmlrender_browser).launch(**kwargs)
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/playwright/async_api/_generated.py", line 14495, in launch
    await self._impl_obj.launch(
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/playwright/_impl/_browser_type.py", line 98, in launch
    await self._channel.send(
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/playwright/_impl/_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/playwright/_impl/_connection.py", line 559, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.Error: BrowserType.launch: Executable doesn't exist at /root/.cache/ms-playwright/chromium_headless_shell-1194/chrome-linux/headless_shell
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Looks like Playwright was just installed or updated.       â•‘
â•‘ Please run the following command to download new browsers: â•‘
â•‘                                                            â•‘
â•‘     playwright install                                     â•‘
â•‘                                                            â•‘
â•‘ <3 Playwright Team                                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/starlette/routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.11/contextlib.py", line 204, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/nonebot/drivers/fastapi.py", line 154, in _lifespan_manager
    await self._lifespan.startup()
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/nonebot/internal/driver/_lifespan.py", line 66, in startup
    await self._run_lifespan_func(self._startup_funcs)
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/nonebot/internal/driver/_lifespan.py", line 55, in _run_lifespan_func
    await cast(ASYNC_LIFESPAN_FUNC, func)()
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/nonebot_plugin_htmlrender/__init__.py", line 34, in init
    await init_browser(**kwargs)
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/nonebot_plugin_htmlrender/browser.py", line 56, in init_browser
    return await start_browser(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/nonebot_plugin_htmlrender/utils.py", line 159, in wrapper
    return await func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/nonebot_plugin_htmlrender/browser.py", line 182, in start_browser
    await check_playwright_env(**kwargs)
  File "/data/nonebot/nonebot-test/.venv/lib/python3.11/site-packages/nonebot_plugin_htmlrender/browser.py", line 206, in check_playwright_env
    raise RuntimeError(
RuntimeError: Playwright environment is not set up correctly. Refer to https://playwright.dev/python/docs/intro#system-requirements

12-08 00:39:53 [ERROR] uvicorn | Application startup failed. Exiting.
root@S43LYjdh3w4zO:/data/nonebot/nonebot-test#
```

è¿™ä¸ªæ—¶å€™å¯ä»¥è¿™æ ·åšï¼š
```shell
# ä½¿ç”¨pyè§£é‡Šå™¨çš„ç»å¯¹è·¯å¾„ å®‰è£…æ— å¤´æµè§ˆå™¨çš„ä¾èµ– ä»¥åŠæœ¬ä½“
/data/nonebot/nonebot-test/.venv/bin/python -m playwright install-deps
/data/nonebot/nonebot-test/.venv/bin/python -m playwright install
```
ï¼ˆdetail box ç»“æŸï¼‰


